<ion-content>
  <main class="flex-shrink-0 main has-footer">
    <header class="header">
      <div class="row">
        <div class="col-auto px-0">
                    
          <a (click)="nav.goto_back()" class=" btn btn-40 btn-link">
              <span class="material-icons">arrow_back</span>
          </a>
     
      <h6 class="navbar-dash">My Orders</h6>

  </div>
        <!-- <div class="ml-auto col-auto pl-0">
          <a href="javascript:void()" class=" btn btn-40 btn-link">
            <span class="material-icons">notifications_none</span>
            <span class="counter"></span>
          </a>
        </div> -->
        <div class="ml-auto col-auto pl-0">
          <a (click)="nav.goto_notification()" class="btn btn-40 btn-link">
            <span class="material-icons">notifications_none</span>
            <span class="counter"></span>
            <span class="badge" style="padding: 0% !important"
              >{{this.api.NCount}}</span
            >
          </a>
        </div>
      </div>

      <ion-segment value="1" mode="md" (ionChange)="segmentChanged($event)" [(ngModel)]="segment">
        <!-- <ion-segment-button value="all" layout="icon-start">
          <span class="material-icons icons">list</span>
          <ion-label>All</ion-label>
        </ion-segment-button> -->
        <ion-segment-button value="active" layout="icon-start">
          <!-- <span class="material-icons">list</span> -->
          <span class="material-icons icons">done</span>
          <ion-label>Active</ion-label>
        </ion-segment-button>
        <ion-segment-button value="compeleted" layout="icon-start">
          <span class="material-icons icons"> schedule</span>
          <!-- <span class="material-icons">done_all</span> -->
          <ion-label>Completed</ion-label>
        </ion-segment-button>
        <ion-segment-button value="cancelled" layout="icon-start">
          <span class="material-icons icons">clear</span>
          <ion-label>Cancelled</ion-label>
        </ion-segment-button>
      </ion-segment>
    </header>

    <!-- Active Orders -->
    <div
      class="main-container"
      *ngIf="segment=='active'"
      style="margin-top: 50px"
    >
    <ng-container *ngFor="let order of OrderList">
      <div class="card" style="margin-bottom: 2px !important;" *ngIf="order.Status=='C'">
        <div class="card-body px-0" style="padding: 0px !important;">
            <div class="list-group list-group-flush">
                <a class="list-group-item" style="text-decoration: none;">
                  <div class="col-12 col-md-6">
                    <div class="card ">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="mb-1">Delever {{order.RemainingDateTime}}</h5>
                                    <p class="text-secondary">{{order.ProgressPercentage}}% order compeleted.</p>
                                </div>
                                <div class="col-auto pl-0">
                                    <button class="btn btn-40 bg-default-light text-default rounded-circle">
                                        <i class="material-icons">schedule</i>
                                    </button>
                                </div>
                            </div>
                            <!-- <div class="progress mt-3">
                              <div class="progress-bar bg-default" role="progressbar" [style.width.px]="order.ProgressPercentage" attr.aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                          </div> -->
                          <div class="progress-bar" role="progressbar" [style.width.%]="order.ProgressPercentage" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">{{order.ProgressPercentage}}%</div> 
                        </div>
                    </div>
                </div>
                    <div class="row text-center mt-1">
                      <!-- <span><small>what to do?</small></span> -->
                      <div class="col-12">
                          <button (click)="nav.goto_trackorder(order.key)"  class="btn btn-sm btn-success pl-4 pr-4" >Track Order</button>
                      </div>
                  </div>

                </a>
            </div>
        </div>
    </div>
    </ng-container>

    </div>
    <!-- Compeleted Orders -->
    <div
      class="main-container"
      *ngIf="segment=='compeleted'"
      style="margin-top: 50px"
    >
    <ng-container *ngFor="let order of OrderList">
      <div class="card" style="margin-bottom: 2px !important;" *ngIf="order.Status=='D'">
        <div class="card-body px-0" style="padding: 0px !important;">
            <div class="list-group list-group-flush">
                <a class="list-group-item" style="text-decoration: none;">
                  <div class="col-12 col-md-6">
                    <div class="card ">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="mb-1">Delevered {{this.helper.RelativeTime(order.RemainingDateTime)}}</h5>
                                    <p class="text-secondary">{{order.ProgressPercentage}}% order compeleted.</p>
                                </div>
                                <!-- <div class="col-auto pl-0">
                                    <button class="btn btn-40 bg-default-light text-default rounded-circle">
                                        <i class="material-icons">check_circle</i>
                                    </button>
                                </div> -->
                            </div>
                            <!-- <div class="progress mt-3">
                              <div class="progress-bar bg-default" role="progressbar" [style.width.px]="order.ProgressPercentage" attr.aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                          </div> -->
                          <div class="progress-bar" role="progressbar" [style.width.%]="order.ProgressPercentage" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">{{order.ProgressPercentage}}%</div> 
                        </div>
                    </div>
                </div>
                    <div class="row text-center mt-1">
                      <!-- <span><small>what to do?</small></span> -->
                      <div class="col-12">
                          <button (click)="nav.goto_trackorder(order.key)"  class="btn btn-sm btn-success pl-4 pr-4" >View Detail</button>
                      </div>
                  </div>

                </a>
            </div>
        </div>
    </div>
    </ng-container>
    </div>
    <!-- Cancelled Orders -->
    <div
      class="main-container"
      *ngIf="segment=='cancelled'"
      style="margin-top: 50px"
    >

    </div>
  </main>
</ion-content>
